import{t as y,i as _,c as u,a as v,I as $,s as T,b as k,o as p,d as w,r as I}from"./vendor.39f124e0.js";const b=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}};b();const D=e=>{const s=new Date,r=(+s-s.getTimezoneOffset()*1e3*60)%(1e3*60*60*24),l=r/e.SegmentDuration,t=r%e.SegmentDuration/e.IncrementDuration,n=r%e.IncrementDuration/e.TickDuration;return{Segment:l,Increment:t,Tick:n}},N="_Container_1a3c2_1";var O={Container:N};const A=y('<svg version="1.1" xmlns="http://www.w3.org/2000/svg"><g class="back-face-container"><circle cx="50%" cy="50%" r="50%" fill="var(--theme-background)"></circle></g><g class="tick-container"></g><g class="increment-container"></g><g class="segment-container"></g><g class="face-container"><circle cx="50%" cy="50%" r="calc(50% - 1px)" stroke="var(--theme-clock-face)" stroke-width="2px" fill="none"></circle><circle cx="50%" cy="50%" r="2.5px" fill="var(--theme-clock-face)"></circle></g><g class="hand-container"><line class="hand-segment" x1="50%" x2="50%" y1="15%" y2="50%" stroke="var(--theme-segment)" stroke-width="4px"></line><line class="hand-increment" x1="50%" x2="50%" y1="10%" y2="50%" stroke="var(--theme-increment)" stroke-width="2px"></line><line class="hand-tick" x1="50%" x2="50%" y1="5%" y2="50%" stroke="var(--theme-tick)" stroke-width="1px"></line></g></svg>'),L=y('<svg><line class="tick" x1="50%" x2="50%" y1="0%" y2="0.5%" stroke="var(--theme-tick)" stroke-width="1px"></line></svg>',4,!0),K=y('<svg><line class="increment" x1="50%" x2="50%" y1="0%" stroke="var(--theme-increment)" stroke-width="2px"></line></svg>',4,!0),F=y('<svg><line class="segment" x1="50%" x2="50%" y1="0%" y2="4%" stroke="var(--theme-segment)" stroke-width="3px"></line></svg>',4,!0),J=e=>(()=>{const s=A.cloneNode(!0),r=s.firstChild,l=r.nextSibling,t=l.nextSibling,n=t.nextSibling,a=n.nextSibling,h=a.nextSibling,m=h.firstChild,f=m.nextSibling,d=f.nextSibling;return _(l,u($,{get each(){return new Array(e.Config.Ticks)},children:(o,c)=>(()=>{const i=L.cloneNode(!0);return i.style.setProperty("transform-origin","50% 50%"),v(()=>i.style.setProperty("transform",`rotate(${c*360/e.Config.Ticks}deg)`)),i})()})),_(t,u($,{get each(){return new Array(e.Config.Increments)},children:(o,c)=>(()=>{const i=K.cloneNode(!0);return T(i,"y2",c%5==0?"2.5%":"1%"),i.style.setProperty("transform-origin","50% 50%"),v(()=>i.style.setProperty("transform",`rotate(${c*360/e.Config.Increments}deg)`)),i})()})),_(n,u($,{get each(){return new Array(e.Config.Segments)},children:(o,c)=>(()=>{const i=F.cloneNode(!0);return i.style.setProperty("transform-origin","50% 50%"),v(()=>i.style.setProperty("transform",`rotate(${c*360/e.Config.Segments}deg)`)),i})()})),m.style.setProperty("transform-origin","50% 50%"),f.style.setProperty("transform-origin","50% 50%"),d.style.setProperty("transform-origin","50% 50%"),v(o=>{const c=O.Container,i=`rotate(${e.Time.Segment*360/e.Config.Segments}deg)`,C=`rotate(${e.Time.Increment*360/e.Config.Increments}deg)`,x=`rotate(${Math.round(e.Time.Tick)*360/e.Config.Ticks}deg)`;return c!==o._v$&&T(s,"class",o._v$=c),i!==o._v$2&&m.style.setProperty("transform",o._v$2=i),C!==o._v$3&&f.style.setProperty("transform",o._v$3=C),x!==o._v$4&&d.style.setProperty("transform",o._v$4=x),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),s})(),P=e=>{const[s,r]=k(D(e.Config)),l=()=>{r(D(e.Config)),a()};let t;const n=()=>{t!=null&&(clearTimeout(t),t=void 0)},a=()=>{n(),t=setTimeout(l,e.Config.TickDuration-+new Date%e.Config.TickDuration)};return p(()=>a()),w(()=>n()),u(J,{get Config(){return e.Config},get Time(){return s()}})};var S;(function(e){e[e.Analog=1]="Analog",e[e.Digital=2]="Digital"})(S||(S={}));const g={Config:{StorageKey:"KaoClock.Config",Default:()=>({Type:S.Analog,Segments:10,SegmentDuration:0,Increments:100,IncrementDuration:0,Ticks:100,TickDuration:0}),Save:e=>{localStorage[g.Config.StorageKey]=JSON.stringify(e)},Load:()=>{const e=JSON.parse(localStorage[g.Config.StorageKey]??JSON.stringify(g.Config.Default()));return e.SegmentDuration=1e3*60*60*24/e.Segments,e.IncrementDuration=e.SegmentDuration/e.Increments,e.TickDuration=e.IncrementDuration/e.Ticks,e}},Theme:{StorageKey:"KaoClock.Theme",Default:()=>({Size:"100vmin",Background:"#000",ClockFace:"#fff"}),Save:e=>{localStorage[g.Theme.StorageKey]=JSON.stringify(e)},Load:()=>JSON.parse(localStorage[g.Theme.StorageKey]??JSON.stringify(g.Theme.Default()))}},z="_Container_6hj9w_1";var G={Container:z};const M=y("<div></div>"),B=()=>{const[e,s]=k(g.Config.Load()),[r,l]=k(g.Theme.Load());return(()=>{const t=M.cloneNode(!0);return _(t,u(P,{get Config(){return e()}})),v(n=>{const a=G.Container,h=r().Size,m=r().Background,f=r().ClockFace,d=r().Segment??r().ClockFace,o=r().Increment??r().ClockFace,c=r().Tick??r().ClockFace;return a!==n._v$&&(t.className=n._v$=a),h!==n._v$2&&t.style.setProperty("--theme-size",n._v$2=h),m!==n._v$3&&t.style.setProperty("--theme-background",n._v$3=m),f!==n._v$4&&t.style.setProperty("--theme-clock-face",n._v$4=f),d!==n._v$5&&t.style.setProperty("--theme-segment",n._v$5=d),o!==n._v$6&&t.style.setProperty("--theme-increment",n._v$6=o),c!==n._v$7&&t.style.setProperty("--theme-tick",n._v$7=c),n},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),t})()};I(()=>u(B,{}),document.getElementById("root"));
